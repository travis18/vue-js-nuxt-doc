# 2. å‰µå»ºä¸€å€‹ Nuxt app


ç¾åœ¨æˆ‘å€‘çŸ¥é“ç‚ºä»€éº¼è¦[ä½¿ç”¨ Nuxt.js](1.-why-use-nuxt.js.md) ä¾†é–‹ç™¼ Vue appï¼Œé€™å€‹ç« ç¯€æˆ‘å€‘å°‡ä¸€èµ·æ‰“é€ ä¸€å€‹ Nuxt.js appï¼Œå¸¶ä½ äº†è§£è³‡æ–™å¤¾çµæ§‹ï¼Œä¸¦ä¸”é–‹å§‹æ‰“é€ æˆ‘å€‘çš„ç¯„ä¾‹æ‡‰ç”¨ç¨‹å¼ã€‚åœ¨ç« ç¯€çš„æœ€å¾Œæˆ‘å€‘çš„ app å°‡æœƒæœ‰ä¸€å€‹ lauout ç‰ˆé¢å’Œ 2 å€‹å¯ä»¥äº’ç›¸åˆ‡æ›å°è¦½çš„é é¢ã€‚

## å…ˆå‚™çŸ¥è­˜

**HTML**ã€**CSS**ã€**åŸºæœ¬ JavaScript**ã€
**Vue.js**ã€**Vue Router** ä»¥åŠ **Vuex**ã€‚

## å»ºç«‹æœ€åˆçš„ Nuxt.js App

æˆ‘å€‘å°‡æœƒç”¨åˆ° `create-nuxt-app` é–‹å§‹å‰µå»ºæˆ‘å€‘çš„æ‡‰ç”¨ç¨‹å¼ã€‚å®ƒæ˜¯ä¸€å€‹èƒ½å¹«åŠ©ä½ å‰µå»º Nuxt.js æ‡‰ç”¨ç¨‹å¼åŠæ­å»ºæ‡‰ç”¨ç¨‹å¼è…³æ‰‹æ¶çš„å‘½ä»¤åˆ—å·¥å…·ã€‚å®ƒå°‡å”åŠ©ä½ å®‰è£ app çš„é è¨­è³‡æ–™å¤¾çµæ§‹ï¼Œä½ å¯ä»¥ä¾è‡ªå·±å–œå¥½é¸æ“‡å®‰è£
å¦‚ **Express** æˆ– **Koa** çš„ä¼ºæœå™¨ç«¯æ¡†æ¶ä¸¦ä¸”ä¹Ÿèƒ½å®‰è£å¦‚ Nuxt Axios æ¨¡çµ„ä»¥ä¾¿æ–¼å°‡ Axios æ•´åˆé€²ä½ çš„ appã€‚

æº–å‚™é–‹å§‹å‰ï¼Œè«‹å…ˆç¢ºä¿ä½ æ‰€ä½¿ç”¨çš„ npm ç‰ˆæœ¬åœ¨ 5.2.0 æˆ–æ›´æ–°ç‰ˆæœ¬ã€‚é€™æ¨£æ‰èƒ½å¤ ç¢ºä¿ `npx` æŒ‡ä»¤æœ‰å®‰è£ä¸Šå»ï¼Œæˆ‘å€‘åœ¨å¾Œé¢å°‡æœƒä½¿ç”¨åˆ°é€™å€‹æŒ‡ä»¤ã€‚

ç„¶å¾Œè©¦è‘—åœ¨ä½ çš„çµ‚ç«¯æ©Ÿä¸­è¼¸å…¥ä»¥ä¸‹æŒ‡ä»¤ï¼š

```
$ npx create-nuxt-app real-world-nuxt
```

**npx** ç”¨ä¾†å”åŠ©å®Œæˆå¾ npm registry ä½¿ç”¨ package çš„å·¥å…· - å’Œ npm ç”¨ä¾†ç°¡åŒ–å®‰è£åŠç®¡ç†è¨—ç®¡åœ¨ registry ä¸Š package é–“ç›¸ä¾æ€§çš„æ–¹æ³•ç›¸åŒï¼Œnpx ç°¡åŒ–ä½¿ç”¨ CLI å·¥å…·åŠå…¶ä»–è¨—ç®¡åœ¨ registry çš„å¯åŸ·è¡Œæª”ã€‚ä»¥æˆ‘å€‘çš„æƒ…æ³ä¾†èªªï¼Œå°±æ˜¯ `create-nuxt-app` packageã€‚

å¦‚æœä½ ä½¿ç”¨ Yarn ç®¡ç† packageï¼Œä½ å¯ä»¥åŸ·è¡Œ `yarn create nuxt-app real-world-nuxt`ã€‚ä»–ä¹Ÿæœƒå¹«ä½ åšä¸€æ¨£çš„äº‹ã€‚

åœ¨åŸ·è¡Œå®Œ `npx` æˆ– `yarn` æŒ‡ä»¤å¾Œï¼Œå‰µå»º Nuxt App æœƒæç¤ºå¹¾å€‹ç”¨ä¾†è¨­å®šä½ çš„ app é è¨­é…ç½®çš„å•é¡Œã€‚

ä»¥ä¸‹å°±æ˜¯æˆ‘å€‘å°ˆæ¡ˆå°‡æœƒä½¿ç”¨åˆ°çš„é…ç½®ã€‚

![](assets/Ch02/01.png)

ç„¶å¾Œå®ƒä¹Ÿæœƒç‚ºä½ å‰µå»ºä¸€å€‹ git å€‰åº«ï¼ŒåŸ·è¡Œå®Œä¹‹å¾Œå†è·‘ä¸€ä¸‹ `npm install` ä»¥å–å›æ‰€ä»¥ä¾è³´çš„ packageã€‚

ä½¿ç”¨ `cd` æŒ‡ä»¤åˆ‡æ›åˆ°é€™å€‹å‰›å»ºç«‹å¥½çš„å°ˆæ¡ˆï¼Œç„¶å¾ŒåŸ·è¡Œä»¥ä¸‹æŒ‡ä»¤ï¼Œå°±å¯ä»¥é€²å…¥é–‹ç™¼æ¨¡å¼ï¼š

```
$ npm run dev
```

é€™å€‹æŒ‡ä»¤æœƒå°‡æˆ‘å€‘çš„ Nuxt.js ä¼ºæœå™¨å•Ÿå‹•ç‚ºé–‹ç™¼æ¨¡å¼ã€‚é è¨­ç¶²å€ç‚º `http://localhost:3000`/ã€‚åœ¨ç€è¦½å™¨è¼¸å…¥ç¶²å€å¾Œæ‡‰è©²è¦çœ‹åˆ°ä»¥ä¸‹çš„é¦–é ã€‚é¦–é é™„æœ‰é€£çµåˆ° [Nuxt æ–‡ä»¶](https://nuxtjs.org/) åŠ [Github](https://github.com/nuxt/nuxt.js) çš„é€£çµã€‚

![](assets/Ch02/02.png)

åšå®Œé€™äº›å‹•ä½œå¾Œï¼Œé€™æœƒæ˜¯åšæˆ‘å€‘ç¬¬ä¸€æ¬¡ `git commit` çš„å¥½æ™‚æ©Ÿï¼Œç„¶å¾Œå†çœ‹çœ‹ä½ è¦ä¸è¦æ”¾åˆ°é›²ç«¯å€‰åº«å¦‚ github æˆ–å…¶ä»–ä½ å¸¸ç”¨çš„é›²ç«¯åŸå§‹ç¢¼ç®¡ç†æœå‹™ã€‚

åšå®Œé€™äº›æˆ‘å€‘å°±å¯ä»¥å¥½å¥½é–‹å§‹ä¾†æ‰“é€ æˆ‘å€‘çš„ events app å•¦ã€‚åœ¨é–‹å§‹ä¹‹å‰ï¼Œæˆ‘å€‘å…ˆä¾†éä¸€ä¸‹çœ‹çœ‹ `create-nuxt-app` ç‚ºæˆ‘å€‘å»ºç«‹çš„è³‡æ–™å¤¾çµæ§‹ã€‚

## Vue (é Nuxt) å¸¶çµ¦æˆ‘å€‘ä»€éº¼

 ![](assets/Ch02/03.jpg)
 
 å¦‚æœæˆ‘å€‘ç”¨ Vue CLI å‰µå»ºä¸€å€‹ Vue æ‡‰ç”¨ç¨‹å¼ï¼ŒCLI å°‡æœƒç‚ºæˆ‘å€‘å»ºç«‹ä¸€å€‹ `/src` è³‡æ–™å¤¾ï¼Œä¸¦ä¸”è£¡é¢é‚„æœ‰ä¸€å€‹ `components` è³‡æ–™å¤¾ã€‚é€™æ¨£æˆ‘å€‘åœ¨é–‹ç™¼çš„æ™‚å€™æœƒæœ‰äº›ç–‘å•ï¼š
 
 - æˆ‘å€‘è©²å°‡æ‰€æœ‰çš„çµ„å»ºå…¨æ”¾åœ¨ `/components` è³‡æ–™å¤¾ä¸­å—ï¼Ÿ
 - æˆ‘å€‘æ˜¯ä¸æ˜¯è©²å»ºç«‹ä¸€å€‹ `/views` è³‡æ–™å¤¾ï¼Ÿ
 - æˆ‘å€‘çš„ç‰ˆé¢è©²æ”¾åœ¨å“ªï¼Ÿä½ æ‡‚çš„ï¼Œå°±æ˜¯é‚£äº›å¸¶æœ‰ `<router-view/> æ¨™ç±¤çš„é é¢ï¼Ÿ
 
 ## Nuxt.js çš„çµ„ä»¶è³‡æ–™å¤¾çµæ§‹
 
 åœ¨ä½ çš„ code ç·¨è¼¯å™¨æ‰“é–‹å‰›å‰›å»ºç«‹çš„ Nuxt.js å°ˆæ¡ˆï¼Œä½ æœƒçœ‹è¦‹æ•´å€‹ Nuxt æ‡‰ç”¨ç¨‹å¼çš„è³‡æ–™å¤¾åˆ—è¡¨ã€‚é¦–å…ˆä½ æœƒæ³¨æ„åˆ°ï¼Œè£¡é¢æ²’æœ‰ `/src` è³‡æ–™å¤¾ï¼Œè€Œä¸”é€™äº›è³‡æ–™å¤¾éƒ½åœ¨å°ˆæ¡ˆçš„æ ¹ç›®éŒ„ã€‚8 å€‹è³‡æ–™å¤¾ä¸­çš„å…¶ä¸­ 3 å€‹æ˜¯ç”¨ä¾†æ”¾çµ„ä»¶çš„è³‡æ–™å¤¾ï¼š
 
 - **layouts** ï¼š ç”¨ä¾†æ”¾ç‰ˆé¢çš„è³‡æ–™å¤¾ã€‚ä¾‹å¦‚ï¼šBlog ç‰ˆé¢ï¼Œå•†å“é ç‰ˆé¢ï¼Œé¦–é ç‰ˆé¢ç­‰ç­‰...
 - **pages**ï¼šç”¨ä¾†æ”¾é«˜å±¤ç´šå¦‚ç”¨ä¾†åšè·¯ç”±çš„é é¢ (.vue æª”)
 - **components**ï¼šç”¨ä¾†æ”¾å¯é‡ç”¨çš„ Vue çµ„ä»¶
 > Nuxt adds component functionality based on whifh directory your component is in.
 
 ä¸Šé¢é€™å¹¾å€‹è³‡æ–™å¤¾éƒ½æœƒæ”¾ `.vue` çš„çµ„ä»¶æª”ï¼Œè€Œä¸”éƒ½æ˜¯å–®ä¸€çš„æª”æ¡ˆ [html è·Ÿ script æ²’æœ‰åˆ†é–‹ä¸åŒæª”æ¡ˆä¹‹é¡çš„]ï¼ŒæŠŠé€™äº›æª”æ¡ˆåˆåœ¨ä¸€èµ·å°±å¯ä»¥çœ‹åˆ°å¦‚æˆ‘å€‘å‰›å‰›å•Ÿå‹•é–‹ç™¼ server é‚£æ¨£çš„ç•«é¢ã€‚
 
 ![](assets/Ch02/04.jpg)
 
ä»¥ä¸‹æ˜¯ Nuxt ç‚ºæˆ‘å€‘å»ºç«‹å‰©ä¸‹çš„ 5 å€‹è³‡æ–™å¤¾

### `/store`

é€™å€‹è³‡æ–™å¤¾åŒ…å«æ‰€æœ‰ä½ çš„ app ä¸­ Vuex Store æœƒç”¨åˆ°çš„æª”æ¡ˆã€‚Nuxt æä¾›äº†å…©ç¨®ä¸åŒå»ºç«‹ store çš„æ–¹æ³•ï¼Œéš¨è‘—èª²ç¨‹é€²åº¦æˆ‘å€‘å°‡æœƒæ›´æ·±å…¥äº†è§£ã€‚

### `/static`

é€™å€‹è³‡æ–™å¤¾ç”¨ä¾†æ”¾éœæ…‹è³‡æºæª”ã€‚ä¾‹å¦‚ï¼š`robots.txt` æˆ– faviconã€‚åœ¨é€™å€‹è³‡æ–™å¤¾è£¡çš„æ¯å€‹æª”æ¡ˆæœƒè¢«å°æ‡‰åˆ° server çš„æ ¹ç›®éŒ„ï¼Œé€šå¸¸åœ¨ `/`ã€‚

### `/assets`

é€™å€‹è³‡æ–™å¤¾ç”¨ä¾†æ”¾æœªç·¨è­¯çš„è³‡æºæª”ï¼Œåƒæ˜¯æ¨£å¼è¡¨ã€ Sass æª”æˆ–æ˜¯å­—å‹ã€‚
Nuxt é è¨­ä½¿ç”¨ vue-loaderï¼Œfile-loader å’Œ url-loader çš„ webpack loader åšå¼·å‹åˆ¥è³‡æºæª”çš„æœå‹™ã€‚å¦‚æœä½ çš„è³‡æºæª”ä¸æƒ³è¢« webpack å½±éŸ¿åˆ°ï¼Œå°±æŠŠä»–å€‘æ”¾åˆ° `/static` è³‡æ–™å¤¾ã€‚

### `/plugins`

é€™å€‹è³‡æ–™å¤¾åŒ…å«äº†ä½ æƒ³è¦åœ¨åˆå§‹åŒ–æ ¹ Vue.js æ‡‰ç”¨ç¨‹å¼ä¹‹å‰çš„ JavaScript æ’ä»¶ã€‚åœ¨ä½¿ç”¨è‡ªå·±çš„å‡½å¼åº«æˆ– Vue æ’ä»¶æ™‚ï¼Œé€™å€‹è³‡æ–™å¤¾å¾ˆæœ‰ç”¨ã€‚

### `/middleware` 

Middleware è®“ä½ å®šç¾©å¯ä»¥åœ¨é é¢æˆ–é é¢ç¾¤çµ„(ç‰ˆé¢)æ¸²æŸ“å‰åŸ·è¡Œè‡ªè¨‚çš„å‡½å¼ã€‚è€Œé€™å€‹è³‡æ–™å¤¾å°±æ˜¯æ”¾é€™äº›ç‚ºäº†é€™å€‹ç›®çš„æ‰€å¯«çš„ middlewareã€‚

æœ€å¾Œï¼Œæ³¨æ„åˆ°æœ‰å€‹å« `nuxt.config.js` çš„è¨­å®šæª”ã€‚ä¹‹å¾Œæœƒæ·±å…¥é€™å€‹æª”æ¡ˆçš„èªªæ˜ï¼Œç¾åœ¨åªè¦äº†è§£é€™ä¸€å€‹æª”æ¡ˆå¯ä»¥ç”¨ä¾†å¯«å…¥é¡å¤–é…ç½®æˆ–ä¿®æ”¹ Nuxt é è¨­çš„é…ç½®ã€‚

**å†ä¾†è¤‡ç¿’ä¸€ä¸‹ï¼š**

## Nuxt è³‡æ–™å¤¾çµæ§‹

- `layouts`ï¼šç”¨ä¾†æ”¾ç‰ˆé¢ã€‚<sub>ä¾‹å¦‚ï¼šéƒ¨è½æ ¼ç‰ˆé¢ï¼Œè³¼ç‰©è»Šç‰ˆé¢ï¼Œé¦–é ç‰ˆé¢ã€‚</sub>
- `pages`ï¼šç”¨ä¾†æ”¾é«˜å±¤ç´šçš„é é¢(.vue æª”)<sub>ç”¨æ–¼ç”¢ç”Ÿè·¯ç”±</sub>
- `components`ï¼šç”¨ä¾†æ”¾å¯é‡ç”¨çš„ Vue çµ„ä»¶
- `store`ï¼šVuex store æª”éƒ½æ”¾åœ¨é€™è£¡ã€‚
- `static`ï¼šæœå‹™è·¯å¾‘åœ¨ `/` çš„éœæ…‹æª”æ¡ˆã€‚<sub>ä¾‹å¦‚ï¼šrobots.txt æˆ– favicon</sub>
- `assets`ï¼šæœªç·¨è­¯çš„è³‡æºæª” <sub>ä¾‹å¦‚ï¼šæ¨£å¼ï¼ŒSASSï¼Œåœ–ç‰‡æˆ–å­—å‹</sub>
- `plugins`ï¼šVue app å•Ÿå‹•å‰è¼‰å…¥çš„ JavaScript æ’ä»¶ã€‚
- `middleware`ï¼šåœ¨æ¸²æŸ“ç‰ˆé¢æˆ–é é¢éŒ¢åŸ·è¡Œçš„è‡ªè¨‚å‡½å¼ã€‚
- `nuxt.config.js`ï¼šä¿®æ”¹é è¨­çš„ nuxt é…ç½®ã€‚

## åœ–ç‰‡è³‡æºç¯„ä¾‹

æˆ‘å€‘é€šå¸¸æœƒæƒ³æŠŠæ‰€æœ‰åœ–ç‰‡æ”¾åœ¨ `assets` è³‡æ–™å¤¾ï¼Œå› ç‚º Nuxt æœƒç”¨ vue-loaderã€file-loader ä»¥åŠ url-loader å¹«ä½ æœ‰æ•ˆå®‰æ’è³‡æºã€‚æ¯”å¦‚èªªï¼Œå‡å¦‚æˆ‘å€‘æ”¾ä¸€å€‹åç¨±ç‚º `logo.png` çš„åœ–æª”åˆ° `assets` è³‡æ–™å¤¾ï¼Œé‚£éº¼æˆ‘å€‘åœ¨çµ„ä»¶æ¨£æ¿è£¡é¢æƒ³ä½¿ç”¨å®ƒçš„æ™‚å€™å°±å¯ä»¥å¯«æˆï¼š

**/pages/index.vue**

```html
<img src="~/assets/logo.png" />
```

**åœ¨å»ºç½®é€™å€‹å°ˆæ¡ˆæ™‚ï¼Œå‡å¦‚æœ‰å¤§å° >= 1kb çš„åœ–ç‰‡æ™‚**ï¼Œé€™å¼µåœ–å°±æœƒä½¿ç”¨ç‰ˆæœ¬é›œæ¹Š(*version hash*)ï¼Œåšæª”æ¡ˆå¿«å–ï¼Œä¸”è·¯å¾‘ä¹Ÿæœƒè‡ªå‹•è½‰æˆå¦‚ä»¥ä¸‹ï¼š

```html
<img src="/_nuxt/img/82f7965.png" />
```

å…¶ä¸­ `82f7965` å°±æ˜¯æ‰€è¬‚çš„*é›œæ¹Š*ã€‚é€™å°æˆ‘å€‘ä¾†èªªæ˜¯å¾ˆæœ‰å¹«åŠ©çš„ï¼Œå› ç‚ºå¦‚æœ `logo.png` çš„å…§å®¹æœªä¾†æ”¹è®Šï¼Œä½†æ˜¯æª”åç¶­æŒä¸è®Šçš„è©±ï¼Œé›œæ¹Šå€¼å°±æœƒæ”¹è®Šï¼Œé€™æ¨£æ–°çš„ logo æª”å°±æœƒè¢«é‡æ–°è¼‰å…¥åˆ°ç”¨æˆ¶çš„ç€è¦½å™¨ä¸Šã€‚åä¹‹æª”æ¡ˆæ²’æ”¹è®Šçš„è©±ï¼Œé›œæ¹Šå€¼ä¸è®Šï¼Œç€è¦½å™¨ç¹¼çºŒè¼‰å…¥å¿«å–ä¸­èˆŠçš„åœ–æª”ï¼Œä¸ç”¨å†å¾ä¼ºæœå™¨ä¸Šè¼‰å…¥åœ–æª”ï¼Œæ¸›å°‘ç¶²è·¯å‚³è¼¸ã€‚

**åœ¨å»ºç½®é€™å€‹å°ˆæ¡ˆæ™‚ï¼Œå‡å¦‚æœ‰å¤§å° < 1kb çš„åœ–ç‰‡æ™‚**ï¼Œé€™å¼µåœ–æœƒè¢«åµŒå…¥åˆ° `html` ä¸­ä¾†é™ä½ http è«‹æ±‚ï¼Œçœ‹èµ·ä¾†æœƒåƒæ˜¯ä¸‹é¢çš„æ¨£å­ï¼š

```html
<img src="data:image/png;base64,R01..." />
```

`...` æ˜¯çœç•¥äº†å¾Œé¢ä¸€é•·ä¸²çš„å­—ä¸²ï¼Œé€™ä¸€é•·ä¸²çš„å­—ä¸²å…¶å¯¦å°±ä»£è¡¨åœ–ç‰‡è³‡æ–™ã€‚è—‰ç”±æŠŠåœ–ç‰‡ç·¨ç¢¼ç›´æ¥æ”¾åœ¨æ¨™ç±¤è£¡é¢ï¼Œæˆ‘å€‘å°±å¯ä»¥é¿å…é¡å¤–ç”¨ä¾†å–å¾—æª”æ¡ˆçš„ç¶²è·¯å‚³è¼¸ã€‚

## å‰µå»ºæˆ‘å€‘çš„ç¬¬ä¸€å€‹é é¢åŠè·¯ç”±

æ¥ä¸‹ä¾†æˆ‘å€‘å°‡è¦é–‹å§‹å»ºç«‹å‰é¢å…©å€‹é é¢åŠé€£çµï¼Œå¥½è®“æˆ‘å€‘å¯ä»¥åœ¨å…©é é¢ä¹‹é–“ç€è¦½ã€‚æˆ‘å€‘å°‡æœƒå»ºç«‹ `/pages/index.vue` ï¼Œé€™å€‹é é¢æœ€çµ‚ç”¨ä¾†é¡¯ç¤ºæ´»å‹•åˆ—è¡¨ï¼Œå¦å¤–ä¸€å€‹æ˜¯ `/pages/create.vue`ï¼Œæˆ‘å€‘ç”¨é€™å€‹é é¢ä¾†å»ºç«‹æ´»å‹•å…§å®¹ã€‚ç•¶æˆ‘å€‘å»ºç«‹å¥½é€™å…©å€‹é é¢å¾Œï¼Œ**ä½ è¦ºå¾—æˆ‘å€‘æœƒéœ€è¦å†å»ºç«‹ `route.js`** æª”æ¡ˆå—ï¼Ÿ

**ç­”æ¡ˆæ˜¯ä¸ç”¨æ»´ï½ï¼Œ Nuxt æœƒè‡ªå‹•ç‚ºæˆ‘å€‘å»ºç«‹å¥½è·¯ç”±å–”ï¼æˆ‘å€‘ä¸ç”¨å†å¯«åƒä¸‹é¢é‚£æ¨£çš„ç¨‹å¼ç¢¼å›‰ã€‚**

```javascript
    const router = new Router({
     routes: [
        {
          path: '/',
          component: 'pages/index.vue'
        },
        {
          path: '/create',
          component: 'pages/create.vue'
        }
      ]
    })
```

## å»ºç«‹ç¯„ä¾‹ App çš„æ­¥é©Ÿ

æˆ‘å€‘æœƒç…§ä¸‹åˆ—æ­¥é©Ÿä¾†åšï¼š

1. ä¿®æ­£ VS Code. çš„è¨­å®š
2. è¤‡è£½/è²¼ä¸Šå…¨åŸŸæ¨£å¼åˆ° `/layout/default.vue` é€™å€‹ç‰ˆé¢è£¡é¢
3. ç°¡åŒ– `/pages/index.vue`
4. å•Ÿå‹• dev server ä¸¦æ¸¬è©¦
5. å‰µå»º `/pages/create.vue` æª”
6. å‰µå»ºå°è¦½çµ„ä»¶ `/component/NavBar.vue`
7. æŠŠä¸Šå€‹æ­¥é©Ÿå‰µå»ºçš„ `NavBar`  çµ„ä»¶åŠ åˆ° `/layout/default.vue` ä¸­ã€‚

## æ­¥é©Ÿä¸€ - ä¿®æ­£ VS Code. çš„è¨­å®š

æˆ‘å€‘é¸æ“‡ VS Code ç‚ºç·¨è¼¯å™¨ï¼Œä¸¦ä¸”ä½¿ç”¨ **Prettier** HTML ç¢¼è‡ªå‹•æ ¼å¼åŒ–æ’ä»¶åŠ **ESLint** æ ¼å¼åŒ–æ’ä»¶ï¼Œä½†é€™å…©å€‹æ’ä»¶å½¼æ­¤æœ‰äº›è¡çªçš„åœ°æ–¹ï¼Œå› æ­¤æˆ‘å€‘è¦å…ˆä¾†ä¿®æ­£ä¸€ä¸‹ã€‚

é¦–å…ˆå…ˆåˆ° **Preference => Settings => Extensions => Vetur**ï¼Œç„¶å¾ŒæŠŠé è¨­çš„ HTML æ ¼å¼å™¨å¾ **prettyhtml** æ”¹æˆ **none**ï¼Œå¦‚ä¸‹ï¼š

![](assets/Ch02/05.jpg)

## æ­¥é©ŸäºŒ - å¢åŠ å…¨åŸŸæ¨£å¼åˆ° `/layout/default.vue`

åœ¨é–‹å§‹å»ºç«‹ç¯„ä¾‹ app å‰ï¼Œæˆ‘å€‘å…ˆæŠŠé è¨­ç‰ˆé¢æ”¹ä¸€ä¸‹ã€‚è«‹æ³¨æ„æˆ‘å€‘åŠ å…¥ id åˆ° `<div>` å…ƒç´ ï¼Œä»¥åŠä¸€å †è‡ªè¨‚æ¨£å¼ã€‚ä½ å¯èƒ½ä¹Ÿæœƒæ³¨æ„åˆ°ï¼Œæœ‰å€‹ `<nuxt />` æ¨™ç±¤ï¼Œé€™æ˜¯ç”¨ä¾†æ”¾ `/pages` è³‡æ–™å¤¾è£¡é¢ç”¢ç”Ÿçš„é é¢ã€‚å°±åƒ `<router-view />` é‚£æ¨£çš„æ•ˆæœã€‚

**/layout/default.vue**

```javascript
    <template>
      <div id="app">
        <nuxt />
      </div>
    </template>
    
    <style>
    html {
      -webkit-text-size-adjust: 100%;
      -webkit-font-smoothing: antialiased;
      -moz-osx-font-smoothing: grayscale;
    }
    body {
      margin: 0;
      font-family: 'Open Sans', sans-serif;
      font-size: 16px;
      line-height: 1.5;
    }
    #app {
      box-sizing: border-box;
      width: 500px;
      padding: 0 20px 20px;
      margin: 0 auto;
    }
    hr {
      box-sizing: content-box;
      height: 0;
      overflow: visible;
    }
    a {
      color: #39b982;
      font-weight: 600;
      background-color: transparent;
    }
    img {
      border-style: none;
      width: 100%;
    }
    h1,
    h2,
    h3,
    h4,
    h5,
    h6 {
      display: flex;
      align-items: center;
      font-family: 'Montserrat', sans-serif;
    }
    h1 {
      font-size: 50px;
      font-weight: 700;
    }
    h2 {
      font-size: 38px;
      font-weight: 700;
    }
    h3 {
      font-size: 28px;
      font-weight: 700;
    }
    h4 {
      font-size: 21px;
      font-weight: 700;
    }
    h5 {
      font-size: 16px;
      font-weight: 700;
    }
    h6 {
      font-size: 15px;
      font-weight: 700;
    }
    b,
    strong {
      font-weight: bolder;
    }
    small {
      font-size: 80%;
    }
    .eyebrow {
      font-size: 20px;
    }
    .-text-primary {
      color: #39b982;
    }
    .-text-base {
      color: #000;
    }
    .-text-error {
      color: tomato;
    }
    .-text-gray {
      color: rgba(0, 0, 0, 0.5);
    }
    .-shadow {
      box-shadow: 0 1px 2px 0 rgba(0, 0, 0, 0.2), 0 1px 5px 0 rgba(0, 0, 0, 0.13);
    }
    .badge {
      display: inline-flex;
      height: 26px;
      width: auto;
      padding: 0 7px;
      margin: 0 5px;
      background: transparent;
      border-radius: 13px;
      font-size: 13px;
      font-weight: 400;
      line-height: 26px;
    }
    .badge.-fill-gradient {
      background: linear-gradient(to right, #16c0b0, #84cf6a);
      color: #fff;
    }
    button,
    label,
    input,
    optgroup,
    select,
    textarea {
      display: inline-flex;
      font-family: 'Open sans', sans-serif;
      font-size: 100%;
      line-height: 1.15;
      margin: 0;
    }
    button,
    input {
      overflow: visible;
    }
    button,
    select {
      text-transform: none;
    }
    button,
    [type='button'],
    [type='reset'],
    [type='submit'] {
      -webkit-appearance: none;
    }
    button::-moz-focus-inner,
    [type='button']::-moz-focus-inner,
    [type='reset']::-moz-focus-inner,
    [type='submit']::-moz-focus-inner {
      border-style: none;
      padding: 0;
    }
    button:-moz-focusring,
    [type='button']:-moz-focusring,
    [type='reset']:-moz-focusring,
    [type='submit']:-moz-focusring {
      outline: 2px solid #39b982;
    }
    label {
      color: rgba(0, 0, 0, 0.5);
      font-weight: 700;
    }
    input,
    textarea {
      box-sizing: border-box;
      border: solid 1px rgba(0, 0, 0, 0.4);
    }
    textarea {
      width: 100%;
      overflow: auto;
      font-size: 20px;
    }
    [type='checkbox'],
    [type='radio'] {
      box-sizing: border-box;
      padding: 0;
    }
    [type='number']::-webkit-inner-spin-button,
    [type='number']::-webkit-outer-spin-button {
      height: auto;
    }
    [type='search'] {
      -webkit-appearance: textfield;
      outline-offset: -2px;
    }
    [type='search']::-webkit-search-decoration {
      -webkit-appearance: none;
    }
    [type='text'],
    [type='number'],
    [type='search'],
    [type='password'] {
      height: 52px;
      width: 100%;
      padding: 0 10px;
      font-size: 20px;
    }
    [type='text']:focus,
    [type='number']:focus,
    [type='search']:focus,
    [type='password']:focus {
      border-color: #39b982;
    }
    ::-webkit-file-upload-button {
      -webkit-appearance: button;
      font: inherit;
    }
    [hidden] {
      display: none;
    }
    .error {
      border: 1px solid red;
    }
    select {
      width: 100%;
      height: 52px;
      padding: 0 24px 0 10px;
      vertical-align: middle;
      background: #fff
        url("data:image/svg+xml;charset=utf8,%3Csvg xmlns='http://www.w3.org/2000/svg' viewBox='0 0 4 5'%3E%3Cpath fill='%23343a40' d='M2 0L0 2h4zm0 5L0 3h4z'/%3E%3C/svg%3E")
        no-repeat right 12px center;
      background-size: 8px 10px;
      border: solid 1px rgba(0, 0, 0, 0.4);
      border-radius: 0;
      -webkit-appearance: none;
      -moz-appearance: none;
      appearance: none;
    }
    select:focus {
      border-color: #39b982;
      outline: 0;
    }
    select:focus::ms-value {
      color: #000;
      background: #fff;
    }
    select::ms-expand {
      opacity: 0;
    }
    .field {
      margin-bottom: 24px;
    }
    .error {
      border: 1px solid red;
    }
    .errorMessage {
      color: red;
    }
    </style>
```

## æ­¥é©Ÿä¸‰ - ç°¡åŒ– `/pages/index.vue`

æ¥ä¸‹ä¾†é–‹å•Ÿ `/pages/index.vue` æª”ï¼Œæ¸…ç©ºä¸¦æ›æˆä»¥ä¸‹å…§å®¹ï¼š

**/pages/index.vue**

```html
    <template>
      <div>
        <h1>Events</h1>
      </div>
    </template>
```

## æ­¥é©Ÿå›› - å•Ÿå‹• dev server ä¸¦æ¸¬è©¦

ç¾åœ¨è®“æˆ‘å€‘ä¾†è©¦ä¸€ä¸‹ç›®å‰çš„ç¨‹å¼ç¢¼ï¼Œçœ‹çœ‹æ˜¯ä¸æ˜¯éƒ½æ­£ç¢ºã€‚åœ¨çµ‚ç«¯æ©Ÿè¼¸å…¥ `npm run dev` å•Ÿå‹•ä¼ºæœå™¨ï¼Œç„¶å¾Œæ‰“é–‹ç€è¦½å™¨ç¶²å€è¼¸å…¥ http://localhost:3000 çœ‹çœ‹å‡ºç¾ä»€éº¼ã€‚

![](assets/Ch02/06.jpg)

è®šå•¦ğŸ‘ï¼

## æ­¥é©Ÿäº” - å‰µå»º `/pages/create.vue`

ç¾åœ¨æˆ‘å€‘ä¾†å‰µå»ºç¬¬äºŒå€‹é é¢ï¼Œå…ˆç”¨æœ€ç°¡å–®çš„æ¨£ç‰ˆç¨‹å¼ç¢¼ï¼š

**/pages/create.vue**

```html
    <template>
      <div>
        <h1>Create An Event</h1>
      </div>
    </template>
```

è©¦è©¦çœ‹åœ¨ç€è¦½å™¨ä½å€åˆ—è¼¸å…¥ï¼Œä½ æœƒç™¼ç¾æˆ‘å€‘ç”šè‡³ä¸ç”¨å‰µå»ºæˆ–ä¿®æ”¹ `router.js` æª”ï¼Œå°±å¯ä»¥åœ¨ä¸Šé¢æ­¥é©Ÿå»ºç«‹çš„å…©å€‹é é¢ä¹‹é–“åˆ‡æ›å°è¦½ã€‚Nuxt ç‚ºæˆ‘å€‘åšæ‰é€™äº›è·¯ç”±åŠŸèƒ½äº†ã€‚

![](assets/Ch02/07.gif)

## æ­¥é©Ÿå…­ - å‰µå»ºå°è¦½çµ„ä»¶ `/component/NavBar.vue`

æ¥ä¸‹ä¾†ï¼Œå…ˆåˆªé™¤ Nuxt è‡ªå‹•ç”Ÿæˆçš„ `/components/Logo.vue` æª”ï¼Œç„¶å¾Œæ–°å¢ä¸€å€‹æª”æ¡ˆä½œç‚ºæˆ‘å€‘çš„å°è¦½çµ„ä»¶ï¼Œè«‹æ³¨æ„æˆ‘å€‘åœ¨æª”æ¡ˆä¸­ä½¿ç”¨ `nuxt-link` è€Œä¸æ˜¯ `router-link` ä¾†ç”Ÿæˆé é¢é€£çµã€‚

**/copmponents/NavBar.vue**

```html
    <template>
      <div class="nav">
        <nuxt-link to="/" class="brand">Real World Events</nuxt-link>
        <nav>
          <nuxt-link to="/">List</nuxt-link>&nbsp;|
          <nuxt-link to="/create">Create</nuxt-link>
        </nav>
      </div>
    </template>
    
    <style scoped>
    .brand {
      font-family: 'Montserrat', sans-serif;
      font-weight: 700;
      font-size: 1.5em;
      color: #39b982;
      text-decoration: none;
    }
    .nav {
      display: flex;
      justify-content: space-between;
      align-items: center;
      height: 60px;
    }
    .nav .nav-item {
      box-sizing: border-box;
      margin: 0 5px;
      color: rgba(0, 0, 0, 0.5);
      text-decoration: none;
    }
    .nav .nav-item.router-link-exact-active {
      color: #39b982;
      border-bottom: solid 2px #39b982;
    }
    .nav a {
      display: inline-block;
    }
    </style>
```

å¥½äº†ï¼Œç¾åœ¨æˆ‘å€‘è¦æŠŠé€™å€‹çµ„ä»¶æ”¾åˆ°ç‰ˆé¢è£¡é¢ã€‚

**/layouts/default.vue**

```html
    <template>
      <div id="app">
        <nav-bar/>
        <nuxt/>
      </div>
    </template>
    <script>
    import NavBar from "~/components/NavBar.vue";
    export default {
      components: {
        NavBar
      }
    };
    </script>
    <style>
      ...
    </style>
```

å¥½å›‰ï¼Œç¾åœ¨æˆ‘å€‘éƒ½ä¿®æ”¹å¥½äº†ï¼Œåˆ°ç€è¦½å™¨ä¸Šçœ‹çœ‹æˆ‘å€‘çš„ Nuxt æ‡‰ç”¨ç¨‹å¼ã€‚

![](assets/Ch02/08.gif)

## ä¾†è¤‡ç¿’ä¸€ä¸‹

é€™å€‹ç« ç¯€æˆ‘å€‘å­¸åˆ°äº†æ€éº¼å‰µå»º Nuxt.js å°ˆæ¡ˆï¼ŒNuxt å¹«æˆ‘å€‘å»ºç«‹çš„å„ç¨®ä¸åŒè³‡æ–™å¤¾ï¼Œä»¥åŠå»ºç«‹é é¢çµ„ä»¶ç„¶å¾Œå°‡ä»–å€‘ä¸²é€£èµ·ä¾†ã€‚ä¸‹å€‹ç« ç¯€æˆ‘å€‘å°‡æœƒå­¸åˆ° Nuxt.js çš„ Universal æ¨¡å¼åŠ server-side rendering å¦‚ä½•å¹«åŠ©æˆ‘å€‘å£¯å¤§ Vue appã€‚

